<div class="download">

    <div class="download-title">
        <h1>Your movies:</h1>
    </div>

    <div class="download-movies">

        {{ @if(isset($movies)) }}
            {{ @for($movies as $movie) }}
                <?php $movieData = json_decode($movie[2]); ?>

                <div class="download-movie" style="background: url('<?php echo htmlspecialchars(base64_decode($movieData->img)); ?>') no-repeat; background-size: cover">
                    <a class="no-text-decoration" href="/popcorn/{{ $movie[0] }}">
                        <div class="download-movie-empty">
                            <div class="download-movie-empty-downloading movie-{{ $movie[4] }}" id="download{{ @if($movie[3] === 'downloading') }}-active{{ @else }}-inactive{{ @endif }}">Currently downloading...</div>
                        </div>
                        <div class="download-movie-info">
                            <div class="download-movie-info-title">
                                <h2>{{ $movie[1] }}</h2>
                            </div>
                            <div class="download-movie-info-items">
                                <table class="download-movie-info-items-table">
                                    <tr>
                                        <td>
                                            <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M5.54175 8.70837H7.12508V10.2917H5.54175V8.70837ZM5.54175 11.875H7.12508V13.4584H5.54175V11.875ZM8.70841 8.70837H10.2917V10.2917H8.70841V8.70837ZM8.70841 11.875H10.2917V13.4584H8.70841V11.875ZM11.8751 8.70837H13.4584V10.2917H11.8751V8.70837ZM11.8751 11.875H13.4584V13.4584H11.8751V11.875Z" fill="#A5A5A5"/>
                                                <path d="M3.95833 17.4167H15.0417C15.9149 17.4167 16.625 16.7066 16.625 15.8334V4.75004C16.625 3.87683 15.9149 3.16671 15.0417 3.16671H13.4583V1.58337H11.875V3.16671H7.125V1.58337H5.54167V3.16671H3.95833C3.08512 3.16671 2.375 3.87683 2.375 4.75004V15.8334C2.375 16.7066 3.08512 17.4167 3.95833 17.4167ZM15.0417 6.33337L15.0425 15.8334H3.95833V6.33337H15.0417Z" fill="#A5A5A5"/>
                                            </svg>
                                        </td>
                                        <td>{{ $movieData->year }}</td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <svg width="19" height="19" viewBox="0 0 19 19" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <path d="M17.207 7.28438L12.496 6.59971L10.39 2.33028C10.3325 2.21339 10.2379 2.11876 10.121 2.06124C9.82782 1.91651 9.47157 2.03712 9.32499 2.33028L7.21903 6.59971L2.508 7.28438C2.37812 7.30294 2.25937 7.36417 2.16845 7.45694C2.05853 7.56991 1.99796 7.7219 2.00005 7.87951C2.00214 8.03712 2.06671 8.18745 2.17958 8.29747L5.58808 11.6206L4.7828 16.3131C4.76392 16.4223 4.776 16.5345 4.81767 16.6372C4.85934 16.7398 4.92894 16.8287 5.01857 16.8938C5.10821 16.9589 5.21429 16.9976 5.32479 17.0055C5.43528 17.0133 5.54578 16.9901 5.64374 16.9384L9.85751 14.723L14.0713 16.9384C14.1863 16.9996 14.3199 17.02 14.4479 16.9978C14.7708 16.9421 14.9879 16.6359 14.9322 16.3131L14.1269 11.6206L17.5354 8.29747C17.6282 8.20655 17.6894 8.0878 17.708 7.95792C17.7581 7.63321 17.5317 7.33262 17.207 7.28438V7.28438Z" fill="#E0B20D"/>
                                            </svg>
                                        </td>
                                        <td>{{ $movieData->rating }}/10</td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <svg width="18" height="18" viewBox="0 0 18 18" fill="none" xmlns="http://www.w3.org/2000/svg">
                                                <g clip-path="url(#clip0)">
                                                    <path d="M18.3458 7.11401H13.8458C13.7685 7.11401 13.7052 7.17729 13.7052 7.25464V8.09839C13.7052 8.17573 13.7685 8.23901 13.8458 8.23901H18.3458C18.4231 8.23901 18.4864 8.17573 18.4864 8.09839V7.25464C18.4864 7.17729 18.4231 7.11401 18.3458 7.11401ZM15.9903 9.50464H13.8458C13.7685 9.50464 13.7052 9.56792 13.7052 9.64526V10.489C13.7052 10.5664 13.7685 10.6296 13.8458 10.6296H15.9903C16.0677 10.6296 16.131 10.5664 16.131 10.489V9.64526C16.131 9.56792 16.0677 9.50464 15.9903 9.50464ZM10.1245 5.54077H9.36338C9.25439 5.54077 9.1665 5.62866 9.1665 5.73765V10.097C9.1665 10.1603 9.19639 10.2183 9.24736 10.2552L11.8647 12.1642C11.9526 12.2275 12.0757 12.2099 12.139 12.122L12.5907 11.505V11.5033C12.654 11.4154 12.6347 11.2923 12.5468 11.2291L10.3196 9.6189V5.73765C10.3214 5.62866 10.2317 5.54077 10.1245 5.54077V5.54077Z" fill="#A5A5A5"/>
                                                    <path d="M15.8813 11.7177H14.8652C14.7668 11.7177 14.6736 11.7687 14.6209 11.8531C14.3977 12.2064 14.1375 12.5333 13.8387 12.8322C13.3236 13.3472 12.7242 13.7515 12.058 14.0328C11.3672 14.3246 10.6342 14.4722 9.87833 14.4722C9.12071 14.4722 8.38771 14.3246 7.69864 14.0328C7.03243 13.7515 6.43302 13.3472 5.91798 12.8322C5.40294 12.3171 4.99864 11.7177 4.71739 11.0515C4.4256 10.3625 4.27794 9.62944 4.27794 8.87183C4.27794 8.11421 4.4256 7.38296 4.71739 6.69214C4.99864 6.02593 5.40294 5.42651 5.91798 4.91147C6.43302 4.39644 7.03243 3.99214 7.69864 3.71089C8.38771 3.41909 9.12247 3.27143 9.87833 3.27143C10.6359 3.27143 11.369 3.41909 12.058 3.71089C12.7242 3.99214 13.3236 4.39644 13.8387 4.91147C14.1375 5.2103 14.3977 5.53726 14.6209 5.89058C14.6736 5.97495 14.7668 6.02593 14.8652 6.02593H15.8813C16.0026 6.02593 16.0799 5.89936 16.0254 5.79214C14.8793 3.51226 12.5555 2.03042 9.96095 2.00054C6.16232 1.95308 3.00704 5.06265 3.00001 8.85776C2.99298 12.6599 6.07443 15.7449 9.87657 15.7449C12.5045 15.7449 14.867 14.2578 16.0254 11.9515C16.0799 11.8443 16.0008 11.7177 15.8813 11.7177V11.7177Z" fill="#A5A5A5"/>
                                                </g>
                                                <defs>
                                                    <clipPath id="clip0">
                                                        <rect width="18" height="18" fill="white"/>
                                                    </clipPath>
                                                </defs>
                                            </svg>
                                        </td>
                                        <td>{{ $movieData->runtime }} min.</td>
                                    </tr>
                                </table>
                            </div>
                        </div>
                    </a>
                </div>

            {{ @endfor }}
        {{ @endif }}

    </div>

</div>